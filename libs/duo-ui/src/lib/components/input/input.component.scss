@use '../../styles/tokens' as *;

// =============================================================================
// DUOLINGO INPUT COMPONENT
// =============================================================================

:host {
  display: inline-block;

  &.full-width {
    display: block;
    width: 100%;

    .duo-input {
      width: 100%;
    }
  }
}

.duo-input {
  display: inline-flex;
  flex-direction: column;
  gap: 8px;

  // ---------------------------------------------------------------------------
  // LABEL
  // ---------------------------------------------------------------------------

  &__label {
    font-family: $font-family;
    font-weight: $font-weight-bold;
    font-size: $font-size-sm;
    color: $color-gray-400;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  // ---------------------------------------------------------------------------
  // CONTAINER (for icons)
  // ---------------------------------------------------------------------------

  &__container {
    position: relative;
    display: inline-flex;
    align-items: center;
    width: 100%;

    &--sm {
      .duo-input__icon {
        svg {
          width: 18px;
          height: 18px;
        }
      }

      .duo-input__icon--left {
        left: 10px;
      }

      .duo-input__icon--right {
        right: 10px;
      }
    }

    &--md {
      .duo-input__icon--left {
        left: 14px;
      }

      .duo-input__icon--right {
        right: 14px;
      }
    }

    &--lg {
      .duo-input__icon {
        svg {
          width: 24px;
          height: 24px;
        }
      }

      .duo-input__icon--left {
        left: 16px;
      }

      .duo-input__icon--right {
        right: 16px;
      }
    }
  }

  // ---------------------------------------------------------------------------
  // ICONS
  // ---------------------------------------------------------------------------

  &__icon {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    color: $color-gray-400;
    pointer-events: none;
    z-index: 1;

    svg {
      width: 20px;
      height: 20px;
      fill: currentColor;
    }
  }

  // ---------------------------------------------------------------------------
  // INPUT FIELD
  // ---------------------------------------------------------------------------

  &__field {
    width: 100%;
    background-color: $color-white;
    border: 2px solid $color-gray-200;
    border-radius: $border-radius-md;
    font-family: $font-family;
    font-weight: $font-weight-bold;
    color: $color-gray-500;
    transition: all $transition-fast;
    outline: none;

    // 3D Effect
    border-bottom-width: 4px;
    border-bottom-color: $color-gray-300;

    &::placeholder {
      color: $color-gray-300;
      font-weight: $font-weight-bold;
    }

    &:hover:not(:disabled):not(:focus) {
      border-color: $color-gray-300;
      background-color: $color-gray-100;
    }

    &:focus {
      border-color: $color-secondary;
      border-bottom-color: $color-secondary-dark;
      background-color: $color-white;
    }

    // ---------------------------------------------------------------------------
    // SIZE VARIANTS
    // ---------------------------------------------------------------------------

    &--sm {
      padding: 6px 12px;
      font-size: $font-size-sm;
      height: $button-height-sm + $button-shadow-depth-sm; // 36px + 3px = 39px total
      border-radius: $border-radius-sm;
      border-bottom-width: $button-shadow-depth-sm;
      box-sizing: border-box;
    }

    &--md {
      padding: 8px 16px;
      font-size: $font-size-md;
      height: $button-height-md + $button-shadow-depth; // 44px + 4px = 48px total
      border-bottom-width: $button-shadow-depth;
      box-sizing: border-box;
    }

    &--lg {
      padding: 10px 20px;
      font-size: $font-size-lg;
      height: $button-height-lg + $button-shadow-depth-lg; // 52px + 5px = 57px total
      border-radius: $border-radius-lg;
      border-bottom-width: $button-shadow-depth-lg;
      box-sizing: border-box;
    }

    // ---------------------------------------------------------------------------
    // STYLE VARIANTS
    // ---------------------------------------------------------------------------

    &--default {
      background-color: $color-white;
      border-color: $color-gray-200;
      border-bottom-color: $color-gray-300;

      &:focus {
        border-color: $color-secondary;
        border-bottom-color: $color-secondary-dark;
      }
    }

    &--primary {
      background-color: rgba($color-primary, 0.05);
      border-color: $color-primary;
      border-bottom-color: $color-primary-dark;
      color: $color-primary-dark;

      &::placeholder {
        color: rgba($color-primary, 0.5);
      }

      &:hover:not(:disabled):not(:focus) {
        background-color: rgba($color-primary, 0.08);
        border-color: $color-primary;
      }

      &:focus {
        background-color: rgba($color-primary, 0.1);
        border-color: $color-primary;
        border-bottom-color: $color-primary-dark;
      }
    }

    &--secondary {
      background-color: rgba($color-secondary, 0.05);
      border-color: $color-secondary;
      border-bottom-color: $color-secondary-dark;
      color: $color-secondary-dark;

      &::placeholder {
        color: rgba($color-secondary, 0.5);
      }

      &:hover:not(:disabled):not(:focus) {
        background-color: rgba($color-secondary, 0.08);
        border-color: $color-secondary;
      }

      &:focus {
        background-color: rgba($color-secondary, 0.1);
        border-color: $color-secondary;
        border-bottom-color: $color-secondary-dark;
      }
    }

    // ---------------------------------------------------------------------------
    // STATES
    // ---------------------------------------------------------------------------

    &--disabled {
      background-color: $color-disabled-bg;
      border-color: $color-disabled-border;
      border-bottom-color: $color-disabled-border;
      color: $color-disabled-text;
      cursor: not-allowed;

      &::placeholder {
        color: $color-disabled-text;
      }
    }

    &--error {
      border-color: $color-danger;
      border-bottom-color: $color-danger-dark;

      &:hover:not(:disabled):not(:focus) {
        border-color: $color-danger;
      }

      &:focus {
        border-color: $color-danger;
        border-bottom-color: $color-danger-dark;
      }
    }

    &--full-width {
      width: 100%;
    }

    // ---------------------------------------------------------------------------
    // WITH ICONS
    // ---------------------------------------------------------------------------

    &--has-icon-left {
      &.duo-input__field--sm {
        padding-left: 36px;
      }

      &.duo-input__field--md {
        padding-left: 44px;
      }

      &.duo-input__field--lg {
        padding-left: 52px;
      }
    }

    &--has-icon-right {
      &.duo-input__field--sm {
        padding-right: 36px;
      }

      &.duo-input__field--md {
        padding-right: 44px;
      }

      &.duo-input__field--lg {
        padding-right: 52px;
      }
    }
  }

  // ---------------------------------------------------------------------------
  // HINT & ERROR
  // ---------------------------------------------------------------------------

  &__hint {
    font-family: $font-family;
    font-size: $font-size-sm;
    color: $color-gray-400;
  }

  &__error {
    font-family: $font-family;
    font-size: $font-size-sm;
    color: $color-danger;
    font-weight: $font-weight-bold;
  }
}
