@if (isOpen) {
  <div class="duo-modal">
    <!-- Backdrop -->
    <div
      [class]="backdropClasses.join(' ')"
      (click)="onBackdropClick($event)"
    >
      <!-- Modal Content -->
      <div
        [class]="modalClasses.join(' ')"
        role="dialog"
        aria-modal="true"
        [attr.aria-labelledby]="title ? 'modal-title' : null"
      >
        <!-- Header -->
        @if (title || showCloseButton) {
          <div class="duo-modal__header">
            @if (title) {
              <h2 class="duo-modal__title" id="modal-title">{{ title }}</h2>
            }
            @if (showCloseButton) {
              <button
                type="button"
                class="duo-modal__close"
                aria-label="Close modal"
                (click)="close()"
              >
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                </svg>
              </button>
            }
          </div>
        }

        <!-- Body -->
        <div class="duo-modal__body">
          <ng-content></ng-content>
        </div>

        <!-- Footer (optional, projected) -->
        <div class="duo-modal__footer">
          <ng-content select="[modal-footer]"></ng-content>
        </div>
      </div>
    </div>
  </div>
}
